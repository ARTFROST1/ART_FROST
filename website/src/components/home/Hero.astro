---
/**
 * Hero Section Component
 * Two-column layout with text content and 3D visual anchor
 * Features: Badge, gradient heading, CTA buttons, animated 3D star
 *
 * @example
 * <Hero />
 */

import { cn } from '@lib/utils';
import Button from '@components/common/Button.astro';
import Container from '@components/common/Container.astro';
import GlowBackground from '@components/ui/GlowBackground.astro';
import Icon from '@components/common/Icon.astro';
import { profile } from '@data/profile';
import { siteConfig } from '@data/site-config';

interface Props {
  /** Additional CSS classes */
  class?: string;
}

const { class: className } = Astro.props;
---

<section
  class={cn(
    'relative min-h-[calc(100vh-4rem)] flex items-center overflow-hidden',
    'py-16 md:py-24 lg:py-32',
    className
  )}
  aria-label="Hero секция"
>
  <!-- Background Glow Effects -->
  <div
    class="absolute inset-0 pointer-events-none overflow-hidden"
    aria-hidden="true"
  >
    <!-- Top-right glow -->
    <div
      class="absolute -top-1/4 -right-1/4 w-[600px] h-[600px] rounded-full opacity-20"
      style="background: radial-gradient(circle, var(--color-primary-glow) 0%, transparent 70%);"
    />
    <!-- Bottom-left subtle glow -->
    <div
      class="absolute -bottom-1/4 -left-1/4 w-[400px] h-[400px] rounded-full opacity-10"
      style="background: radial-gradient(circle, var(--color-gradient-end) 0%, transparent 70%);"
    />
  </div>

  <Container size="xl" class="relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24 items-center">
      
      <!-- Left Column: Text Content -->
      <div
        class="flex flex-col gap-6 text-center lg:text-left animate-fade-in-up"
        style="animation-delay: 100ms;"
      >
        <!-- Badge -->
        <div class="flex justify-center lg:justify-start">
          <span
            class={cn(
              'inline-flex items-center gap-2 px-4 py-2 rounded-full',
              'bg-[var(--color-primary)]/5 border border-[var(--color-primary)]/40',
              'text-[var(--color-primary)] text-sm font-semibold tracking-wide uppercase',
              'shadow-[0_0_15px_-5px_var(--color-primary-glow)]',
              'animate-pulse-subtle'
            )}
          >
            <svg
              class="w-4 h-4"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
            </svg>
            AI Powered Development
          </span>
        </div>

        <!-- Heading -->
        <h1 class="heading-hero">
          <span class="block text-[var(--color-text-body)] font-normal text-lg md:text-xl mb-3">
            Привет, я
          </span>
          <span
            class="block font-bold tracking-tight bg-gradient-to-r from-white via-white/70 to-white/20 bg-clip-text text-transparent"
          >
            {siteConfig.author.name}
          </span>
          <span class="block mt-4 font-semibold">
            <span class="text-[var(--color-primary)] opacity-80">[</span>
            <span class="bg-gradient-to-r from-white/80 via-white/55 to-white/20 bg-clip-text text-transparent">
              {' '}Vibe Coder{' '}
            </span>
            <span class="text-[var(--color-primary)] opacity-80">]</span>
          </span>
        </h1>

        <!-- Description -->
        <p class="body-large max-w-lg mx-auto lg:mx-0">
          {profile.shortBio}
        </p>

        <!-- CTA Buttons -->
        <div
          class="flex flex-col sm:flex-row gap-5 justify-center lg:justify-start mt-8 animate-fade-in-up"
          style="animation-delay: 300ms;"
        >
          <Button href="https://t.me/artfrost" external variant="primary" size="lg">
            Get Started
          </Button>
          <Button href="/projects" variant="secondary" size="lg">
            Explore Now
          </Button>
        </div>

        <!-- Stats -->
        <div
          class="flex flex-wrap gap-8 justify-center lg:justify-start mt-8 pt-8 border-t border-[var(--color-border-glass)]"
          style="animation-delay: 500ms;"
        >
          <div class="text-center lg:text-left animate-fade-in-up" style="animation-delay: 600ms;">
            <span class="block text-3xl font-bold text-[var(--color-text-heading)]">5+</span>
            <span class="text-sm text-[var(--color-text-muted)]">Лет в IT</span>
          </div>
          <div class="text-center lg:text-left animate-fade-in-up" style="animation-delay: 700ms;">
            <span class="block text-3xl font-bold text-[var(--color-text-heading)]">20+</span>
            <span class="text-sm text-[var(--color-text-muted)]">Проектов</span>
          </div>
          <div class="text-center lg:text-left animate-fade-in-up" style="animation-delay: 800ms;">
            <span class="block text-3xl font-bold text-[var(--color-text-heading)]">15+</span>
            <span class="text-sm text-[var(--color-text-muted)]">Технологий</span>
          </div>
        </div>
      </div>

      <!-- Right Column: 3D Visual -->
      <div
        class="relative flex items-center justify-center lg:justify-center animate-fade-in-up"
        style="animation-delay: 200ms;"
      >
        <GlowBackground intensity="high" class="w-full max-w-lg lg:max-w-xl">
          <!-- 3D Star Asset Container -->
          <div class="relative aspect-square animate-float">
            <!-- Placeholder for 3D Star - Replace with actual 3D asset -->
            <div
              class={cn(
                'absolute inset-0 flex items-center justify-center',
                'rounded-3xl'
              )}
            >
              <!-- Abstract 3D Star SVG Placeholder -->
              <svg
                viewBox="0 0 200 200"
                class="w-full h-full drop-shadow-2xl"
                style="filter: drop-shadow(0 0 50px var(--color-primary-glow));"
              >
                <defs>
                  <linearGradient id="starGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#6ee7b7;stop-opacity:1" /> <!-- Emerald 300 -->
                    <stop offset="50%" style="stop-color:#10b981;stop-opacity:1" /> <!-- Emerald 500 -->
                    <stop offset="100%" style="stop-color:#064e3b;stop-opacity:1" /> <!-- Emerald 900 -->
                  </linearGradient>
                  <linearGradient id="starGradient2" x1="100%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#a7f3d0;stop-opacity:0.9" /> <!-- Emerald 200 -->
                    <stop offset="100%" style="stop-color:#059669;stop-opacity:0.8" /> <!-- Emerald 600 -->
                  </linearGradient>
                  <filter id="glow">
                    <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
                    <feMerge>
                      <feMergeNode in="coloredBlur"/>
                      <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                  </filter>
                </defs>
                
                <!-- Main 6-pointed star shape -->
                <g transform="translate(100, 100)" filter="url(#glow)">
                  <!-- Outer star arms -->
                  <path
                    d="M0,-80 L15,-25 L70,-40 L30,0 L70,40 L15,25 L0,80 L-15,25 L-70,40 L-30,0 L-70,-40 L-15,-25 Z"
                    fill="url(#starGradient)"
                    class="animate-spin-slow origin-center"
                    style="transform-origin: center;"
                  />
                  
                  <!-- Inner glow layer -->
                  <path
                    d="M0,-50 L10,-15 L45,-25 L20,0 L45,25 L10,15 L0,50 L-10,15 L-45,25 L-20,0 L-45,-25 L-10,-15 Z"
                    fill="url(#starGradient2)"
                    class="animate-spin-slow-reverse origin-center"
                    style="transform-origin: center;"
                  />
                  
                  <!-- Center glow -->
                  <circle cx="0" cy="0" r="20" fill="#34D399" opacity="0.6" class="animate-pulse" />
                  <circle cx="0" cy="0" r="10" fill="#ffffff" opacity="0.8" />
                </g>
                
                <!-- Floating particles -->
                <circle cx="40" cy="40" r="3" fill="#10B981" opacity="0.6" class="animate-float-particle-1" />
                <circle cx="160" cy="60" r="2" fill="#34D399" opacity="0.5" class="animate-float-particle-2" />
                <circle cx="50" cy="150" r="2.5" fill="#059669" opacity="0.4" class="animate-float-particle-3" />
                <circle cx="170" cy="140" r="2" fill="#10B981" opacity="0.5" class="animate-float-particle-1" />
              </svg>
            </div>
            
            <!-- Decorative rings -->
            <div
              class="absolute inset-0 border border-[var(--color-primary)]/20 rounded-full animate-spin-very-slow"
              style="animation-duration: 20s;"
            />
            <div
              class="absolute inset-4 border border-[var(--color-primary)]/10 rounded-full animate-spin-very-slow"
              style="animation-duration: 25s; animation-direction: reverse;"
            />
          </div>
        </GlowBackground>
      </div>
    </div>
  </Container>

  <!-- Scroll indicator -->
  <div
    class="absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-[var(--color-text-muted)] animate-bounce-slow"
    aria-hidden="true"
  >
    <span class="text-xs uppercase tracking-widest">Scroll</span>
    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 5v14M19 12l-7 7-7-7" />
    </svg>
  </div>
</section>

<style>
  /* Fade in up animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
  }

  /* Float animation for 3D asset */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(2deg);
    }
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Slow spin for decorative elements */
  @keyframes spinSlow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  .animate-spin-slow {
    animation: spinSlow 30s linear infinite;
  }
  
  .animate-spin-slow-reverse {
    animation: spinSlow 25s linear infinite reverse;
  }
  
  .animate-spin-very-slow {
    animation: spinSlow 40s linear infinite;
  }

  /* Floating particles */
  @keyframes floatParticle1 {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.6;
    }
    50% {
      transform: translate(10px, -15px);
      opacity: 0.3;
    }
  }
  
  @keyframes floatParticle2 {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.5;
    }
    50% {
      transform: translate(-8px, 12px);
      opacity: 0.2;
    }
  }
  
  @keyframes floatParticle3 {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.4;
    }
    50% {
      transform: translate(12px, 8px);
      opacity: 0.2;
    }
  }
  
  .animate-float-particle-1 {
    animation: floatParticle1 4s ease-in-out infinite;
  }
  
  .animate-float-particle-2 {
    animation: floatParticle2 5s ease-in-out infinite;
  }
  
  .animate-float-particle-3 {
    animation: floatParticle3 6s ease-in-out infinite;
  }

  /* Subtle pulse for badge */
  @keyframes pulseSub {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }
  
  .animate-pulse-subtle {
    animation: pulseSub 3s ease-in-out infinite;
  }

  /* Slow bounce for scroll indicator */
  @keyframes bounceSlow {
    0%, 100% {
      transform: translateX(-50%) translateY(0);
    }
    50% {
      transform: translateX(-50%) translateY(10px);
    }
  }
  
  .animate-bounce-slow {
    animation: bounceSlow 2s ease-in-out infinite;
  }
</style>
